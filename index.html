<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CORP.™ Band™ Website™</title>
    <link rel="icon" href="assets/cd.png" type="image/png" />
    <link href="./dist/output.css" rel="stylesheet" />
    <style>
      .dark-mode {
        filter: invert(1) hue-rotate(180deg);
      }
      .dark-mode img,
      .dark-mode video {
        filter: invert(1) hue-rotate(180deg);
      }
    </style>
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-4Q1BH50NT4"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-4Q1BH50NT4");
    </script>
    <!-- Meta Pixel Code -->
    <script>
      !(function (f, b, e, v, n, t, s) {
        if (f.fbq) return;
        n = f.fbq = function () {
          n.callMethod
            ? n.callMethod.apply(n, arguments)
            : n.queue.push(arguments);
        };
        if (!f._fbq) f._fbq = n;
        n.push = n;
        n.loaded = !0;
        n.version = "2.0";
        n.queue = [];
        t = b.createElement(e);
        t.async = !0;
        t.src = v;
        s = b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t, s);
      })(
        window,
        document,
        "script",
        "https://connect.facebook.net/en_US/fbevents.js"
      );
      fbq("init", "9877634818998127");
      fbq("track", "PageView");
    </script>
    <noscript
      ><img
        height="1"
        width="1"
        style="display: none"
        src="https://www.facebook.com/tr?id=9877634818998127&ev=PageView&noscript=1"
    /></noscript>
    <!-- End Meta Pixel Code -->
    <!-- Meta Pixel Code (2nd pixel is on Las Aguas Account) -->
    <script>
      !(function (f, b, e, v, n, t, s) {
        if (f.fbq) return;
        n = f.fbq = function () {
          n.callMethod
            ? n.callMethod.apply(n, arguments)
            : n.queue.push(arguments);
        };
        if (!f._fbq) f._fbq = n;
        n.push = n;
        n.loaded = !0;
        n.version = "2.0";
        n.queue = [];
        t = b.createElement(e);
        t.async = !0;
        t.src = v;
        s = b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t, s);
      })(
        window,
        document,
        "script",
        "https://connect.facebook.net/en_US/fbevents.js"
      );
      fbq("init", "1223146679556135");
      fbq("track", "PageView");
    </script>
    <noscript
      ><img
        height="1"
        width="1"
        style="display: none"
        src="https://www.facebook.com/tr?id=1223146679556135&ev=PageView&noscript=1"
    /></noscript>
    <!-- End Meta Pixel Code (2nd pixel is on Las Aguas Account) -->
  </head>
  <body class="bg-win98-bg font-ms-sans overflow-hidden h-screen flex flex-col">
    <!-- Desktop -->
    <main class="flex-grow relative">
      <!-- Desktop Icons -->
      <div class="desktop-icons absolute top-4 left-4 space-y-3 md:space-y-4">
        <!-- Events Icon -->
        <div class="desktop-icon" data-window="events">
          <div class="icon-img flex items-center justify-center p-1">
            <img src="assets/calendar.png" alt="Events" class="w-8 h-8" />
          </div>
          <span>Events</span>
        </div>

        <div class="desktop-icon" data-window="social">
          <div class="icon-img flex items-center justify-center p-1">
            <img src="assets/people.png" alt="Social Media" class="w-8 h-8" />
          </div>
          <span>Social</span>
        </div>

        <!-- Merch Icon -->
        <div class="desktop-icon" data-window="merch">
          <div class="icon-img flex items-center justify-center p-1">
            <img src="assets/spider.png" alt="Merch" class="w-8 h-8" />
          </div>
          <span>Merch</span>
        </div>

        <!-- Music Icon -->
        <div class="desktop-icon" data-window="music">
          <div class="icon-img flex items-center justify-center p-1">
            <img src="assets/music.png" alt="Music" class="w-8 h-8" />
          </div>
          <span>Music</span>
        </div>

        <!-- Mailing List Icon -->
        <div class="desktop-icon" data-window="mailing">
          <div class="icon-img flex items-center justify-center p-1">
            <img src="assets/mail.png" alt="Mailing List" class="w-8 h-8" />
          </div>
          <span>Mailing List</span>
        </div>

        <!-- EPK Icon -->
        <div class="desktop-icon" data-window="booking">
          <div class="icon-img flex items-center justify-center p-1">
            <img src="assets/computer.png" alt="Computer" class="w-8 h-8" />
          </div>
          <span>Booking</span>
        </div>

        <!-- Trash Icon -->
        <div class="desktop-icon" data-window="trash">
          <div class="icon-img flex items-center justify-center p-1">
            <img src="assets/recycle.png" alt="Recycle Bin" class="w-8 h-8" />
          </div>
          <span>Recycle Bin</span>
        </div>
      </div>

      <!-- Windows -->
      <!-- Computer Window -->
      <div id="computer" class="win98-window">
        <div class="window-titlebar">
          <div>My Computer</div>
          <div class="window-controls">
            <button class="window-control-btn minimize-btn font-bold">_</button>
            <button
              class="window-control-btn maximize-btn window-control-hide-sm"
            >
              <div
                class="w-2 h-2 border border-black bg-win98-gray border-t-2"
              ></div>
            </button>
            <button class="window-control-btn close-btn">×</button>
          </div>
        </div>
        <div class="window-content">
          <p>My Computer contents would go here.</p>
        </div>
      </div>

      <!-- Music Window -->
      <div id="music" class="win98-window">
        <div class="window-titlebar">
          <div>CORP Music</div>
          <div class="window-controls">
            <button class="window-control-btn minimize-btn font-bold">_</button>
            <button
              class="window-control-btn maximize-btn window-control-hide-sm"
            >
              <div
                class="w-2 h-2 border border-black bg-win98-gray border-t-2"
              ></div>
            </button>
            <button class="window-control-btn close-btn">×</button>
          </div>
        </div>
        <div class="window-content">
          <h2 class="text-xl mb-4">Watch CORP.</h2>
          <iframe
            style="border: 0; aspect-ratio: 16/9; width: 100% !important"
            src="https://www.youtube.com/embed/OumeCXiSUuU?si=lKZBSALydi3YYRCH"
            title="YouTube video player"
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
            referrerpolicy="strict-origin-when-cross-origin"
            allowfullscreen
          ></iframe>
          <a
            href="https://www.youtube.com/@corp.812"
            target="_blank"
            class="win98-btn inline-block mt-2 mb-2"
            >Watch More CORP.</a
          >
          <h2 class="text-xl my-4">Listen To CORP.</h2>
          <p class="mb-4">
            It's your favorite band. It always has been.
            <img src="assets/rock-on.gif" alt="CORP" class="w-6 h-6 inline" />
          </p>
          <div class="grid grid-cols-1 gap-3 mb-4">
            <a
              href="https://open.spotify.com/artist/501XpbV9evuc6BWl2RDuwy?si=OxreQk1-Q22R-SkDiPB1BA"
              target="_blank"
              class="win98-btn flex items-center"
            >
              <span>Spotify</span>
            </a>
            <a
              href="https://music.apple.com/us/artist/corp/1637650743"
              target="_blank"
              class="win98-btn flex items-center"
            >
              <span>Apple Music</span>
            </a>
            <a
              href="https://music.youtube.com/channel/UCRSIysOFw7Zg3tDZZ1MV1Zw"
              target="_blank"
              class="win98-btn flex items-center"
            >
              <span>YouTube Music</span>
            </a>
            <a
              href="https://corpband.bandcamp.com/"
              target="_blank"
              class="win98-btn flex items-center"
            >
              <span>Bandcamp</span>
            </a>
          </div>
          <iframe
            style="border: 0; width: 100%; min-height: 400px"
            src="https://bandcamp.com/EmbeddedPlayer/album=1854263188/size=large/bgcol=ffffff/linkcol=0687f5/artwork=small/transparent=true/"
            seamless
            ><a
              href="https://corpband.bandcamp.com/album/whispers-from-the-water-cooler"
              >Whispers from the Water Cooler by CORP.</a
            ></iframe
          >
        </div>
      </div>

      <!-- Events Window -->
      <div id="events" class="win98-window">
        <div class="window-titlebar">
          <div>CORP Events</div>
          <div class="window-controls">
            <button class="window-control-btn minimize-btn font-bold">_</button>
            <button
              class="window-control-btn maximize-btn window-control-hide-sm"
            >
              <div
                class="w-2 h-2 border border-black bg-win98-gray border-t-2"
              ></div>
            </button>
            <button class="window-control-btn close-btn">×</button>
          </div>
        </div>
        <div class="window-content">
          <h2 class="text-xl mb-4">
            Upcoming Shows |
            <span class="text-base">
              <a
                class="underline"
                href="https://www.songkick.com/artists/401675"
                >Songkick</a
              >
              -
              <a
                class="underline"
                href="https://www.bandsintown.com/a/15564058-corp."
                >Bandsintown</a
              >
            </span>
          </h2>
          <p class="mb-4">Experience the invigorating power of CORP.</p>
          <a
            href="https://www.songkick.com/artists/401675"
            class="songkick-widget"
            data-theme="light"
            data-track-button="on"
            data-detect-style="on"
            data-locale="en"
            data-other-artists="on"
            data-share-button="on"
            data-country-filter="on"
            data-rsvp="on"
            data-request-show="on"
            data-past-events="on"
            data-past-events-offtour="off"
            data-remind-me="off"
            style="display: none"
          ></a>
          <script src="//widget-app.songkick.com/injector/401675"></script>
        </div>
      </div>

      <!-- Social Window -->
      <div id="social" class="win98-window">
        <div class="window-titlebar">
          <div>Social</div>
          <div class="window-controls">
            <button class="window-control-btn minimize-btn font-bold">_</button>
            <button
              class="window-control-btn maximize-btn window-control-hide-sm"
            >
              <div
                class="w-2 h-2 border border-black bg-win98-gray border-t-2"
              ></div>
            </button>
            <button class="window-control-btn close-btn">×</button>
          </div>
        </div>
        <div class="window-content">
          <h2 class="text-xl mb-4">Follow CORP.</h2>
          <p class="mb-4">Merge your data into our corporate structure:</p>
          <p class="mb-4">
            43 6F 6E 73 75 6D 65 20 59 6F 75 72 20 43 6F 77 6F 72 6B 65 72 73 20
            50 6C 65 61 73 65
          </p>
          <div class="grid grid-cols-1 gap-3">
            <a
              href="https://www.instagram.com/corpband/"
              target="_blank"
              class="win98-btn flex items-center"
            >
              <span>Instagram</span>
            </a>
            <a
              href="https://www.linkedin.com/company/106854265"
              target="_blank"
              class="win98-btn flex items-center"
            >
              <span>LinkedIn</span>
            </a>
            <a
              href="https://www.youtube.com/@corp.812"
              target="_blank"
              class="win98-btn flex items-center"
            >
              <span>YouTube</span>
            </a>
            <a
              href="https://www.facebook.com/corpband/"
              target="_blank"
              class="win98-btn flex items-center"
            >
              <span>Facebook</span>
            </a>
          </div>
        </div>
      </div>

      <!-- Merch Window -->
      <div id="merch" class="win98-window">
        <div class="window-titlebar">
          <div>CORP Merchandise</div>
          <div class="window-controls">
            <button class="window-control-btn minimize-btn font-bold">_</button>
            <button
              class="window-control-btn maximize-btn window-control-hide-sm"
            >
              <div
                class="w-2 h-2 border border-black bg-win98-gray border-t-2"
              ></div>
            </button>
            <button class="window-control-btn close-btn">×</button>
          </div>
        </div>
        <div class="window-content">
          <h2 class="text-xl mb-4">Official CORP Merch</h2>
          <p class="mb-4">Be the coolest drone at the water cooler:</p>
          <ul class="list-disc list-inside mb-4">
            <li>Financial Accounting Services - $25</li>
            <li>Human Resource - $15</li>
            <li>Premium .mp3 - $30</li>
            <li>Insider Trading Tip - $20</li>
          </ul>
          <a
            href="https://corpband.bandcamp.com/"
            target="_blank"
            class="win98-btn inline-block mt-4"
            >Shop on Bandcamp</a
          >
        </div>
      </div>

      <!-- Mailing List Window -->
      <div id="mailing" class="win98-window">
        <div class="window-titlebar">
          <div>CORP Mailing List</div>
          <div class="window-controls">
            <button class="window-control-btn minimize-btn font-bold">_</button>
            <button
              class="window-control-btn maximize-btn window-control-hide-sm"
            >
              <div
                class="w-2 h-2 border border-black bg-win98-gray border-t-2"
              ></div>
            </button>
            <button class="window-control-btn close-btn">×</button>
          </div>
        </div>
        <div class="window-content">
          <h2 class="text-xl mb-4">Join Our Mailing List</h2>
          <p class="mb-4">Or become fodder for the machine:</p>
          <div id="mc_embed_shell">
            <div id="mc_embed_signup">
              <form
                action="https://band.us22.list-manage.com/subscribe/post?u=15b595133a569bd6bd1f4e040&amp;id=b33f1393a5&amp;f_id=009bc2e1f0"
                method="post"
                id="mc-embedded-subscribe-form"
                name="mc-embedded-subscribe-form"
                class="validate flex flex-col gap-2"
                target="_blank"
              >
                <div class="mc-field-group">
                  <label for="mce-EMAIL">Email:</label
                  ><input
                    type="email"
                    name="EMAIL"
                    class="w-full p-1 border border-win98-dark shadow-win98-in required text"
                    placeholder="your@email.com"
                    id="mce-EMAIL"
                    required=""
                    value=""
                  />
                </div>
                <div class="mc-field-group">
                  <label for="mce-FNAME">First Name</label
                  ><input
                    type="text"
                    name="FNAME"
                    class="w-full p-1 border border-win98-dark shadow-win98-in required text"
                    placeholder="Employee #19726"
                    id="mce-FNAME"
                    required=""
                    value=""
                  />
                </div>
                <div class="mc-field-group size1of2">
                  <label for="mce-BIRTHDAY-month">Birthday (Optional)</label>
                  <div class="datefield">
                    <span class="subfield monthfield"
                      ><input
                        class="birthday REQ_CSS p-1 border border-win98-dark shadow-win98-in"
                        type="text"
                        pattern="[0-9]*"
                        placeholder="MM"
                        size="2"
                        maxlength="2"
                        name="BIRTHDAY[month]"
                        id="mce-BIRTHDAY-month"
                        value=""
                    /></span>
                    /<span class="subfield dayfield"
                      ><input
                        class="birthday REQ_CSS p-1 border border-win98-dark shadow-win98-in"
                        type="text"
                        pattern="[0-9]*"
                        placeholder="DD"
                        size="2"
                        maxlength="2"
                        name="BIRTHDAY[day]"
                        id="mce-BIRTHDAY-day"
                        value=""
                    /></span>
                  </div>
                </div>
                <div class="mc-field-group">
                  <label for="mce-MMERGE7">City (Optional)</label
                  ><input
                    type="text"
                    name="MMERGE7"
                    class="w-full p-1 border border-win98-dark shadow-win98-in required text"
                    id="mce-MMERGE7"
                    value=""
                  />
                </div>
                <div id="mce-responses" class="clear foot">
                  <div
                    class="response"
                    id="mce-error-response"
                    style="display: none"
                  ></div>
                  <div
                    class="response"
                    id="mce-success-response"
                    style="display: none"
                  ></div>
                </div>
                <div
                  aria-hidden="true"
                  style="position: absolute; left: -5000px"
                >
                  /* real people should not fill this in and expect good things
                  - do not remove this or risk form bot signups */
                  <input
                    type="text"
                    name="b_15b595133a569bd6bd1f4e040_b33f1393a5"
                    tabindex="-1"
                    value=""
                  />
                </div>
                <div class="optionalParent">
                  <div class="clear foot">
                    <input
                      type="submit"
                      name="subscribe"
                      id="mc-embedded-subscribe"
                      class="win98-btn"
                    />
                  </div>
                </div>
              </form>
            </div>
          </div>

          <!-- <div class="mb-4">
            <label class="block mb-1">Email:</label>
            <input
              type="email"
              class="w-full p-1 border border-win98-dark shadow-win98-in"
              placeholder="your@email.com"
            />
          </div>
          <div class="mb-4">
            <label class="block mb-1">Name:</label>
            <input
              type="text"
              class="w-full p-1 border border-win98-dark shadow-win98-in"
              placeholder="Your Name"
            />
          </div>
          <button class="win98-btn">Subscribe</button> -->
        </div>
      </div>

      <!-- EPK Window -->
      <div id="booking" class="win98-window">
        <div class="window-titlebar">
          <div>CORP Booking</div>
          <div class="window-controls">
            <button class="window-control-btn minimize-btn font-bold">_</button>
            <button
              class="window-control-btn maximize-btn window-control-hide-sm"
            >
              <div
                class="w-2 h-2 border border-black bg-win98-gray border-t-2"
              ></div>
            </button>
            <button class="window-control-btn close-btn">×</button>
          </div>
        </div>
        <div class="window-content">
          <h2 class="text-xl mb-4">Book CORP</h2>
          <p class="mb-4">
            Interested in booking CORP for your venue or event? Contact us via
            email:
          </p>
          <div class="p-3 bg-white shadow-win98-in mb-6 break-all">
            <a
              href="mailto:corp.band.contact@gmail.com"
              class="text-blue-800 underline"
              >corp.band.contact@gmail.com</a
            >
          </div>
          <p class="mb-4">
            Check out our
            <a
              href="https://sites.google.com/view/corp-epk/home"
              target="_blank"
              class="text-blue-800 underline"
              >Electronic Press Kit</a
            >
            for investment opportunities and tech specs.
          </p>
        </div>
      </div>

      <!-- Trash Window -->
      <div id="trash" class="win98-window">
        <div class="window-titlebar">
          <div>Recycle Bin</div>
          <div class="window-controls">
            <button class="window-control-btn minimize-btn font-bold">_</button>
            <button
              class="window-control-btn maximize-btn window-control-hide-sm"
            >
              <div
                class="w-2 h-2 border border-black bg-win98-gray border-t-2"
              ></div>
            </button>
            <button class="window-control-btn close-btn">×</button>
          </div>
        </div>
        <div class="window-content">
          <p class="mb-4">The Recycle Bin is empty. Empty for kicks?</p>
          <button class="win98-btn" id="empty-recycle-bin">
            Empty Recycle Bin
          </button>
        </div>
      </div>

      <!-- Classified Window -->
      <div id="classified" class="win98-window" style="display: none">
        <div class="window-titlebar">
          <div>Classified</div>
          <div class="window-controls">
            <button class="window-control-btn minimize-btn font-bold">_</button>
            <button
              class="window-control-btn maximize-btn window-control-hide-sm"
            >
              <div
                class="w-2 h-2 border border-black bg-win98-gray border-t-2"
              ></div>
            </button>
            <button class="window-control-btn close-btn">×</button>
          </div>
        </div>
        <div class="window-content">
          <h2 class="text-xl mb-4">Classified Corporate Resources</h2>
          <p class="mb-4">
            For executive eyes only. Clearance level Omega required.
          </p>
          <div class="grid grid-cols-1 gap-3 mb-4">
            <a
              href="https://github.com/ConorCorp/corp-website"
              target="_blank"
              class="win98-btn flex items-center"
            >
              <span>Source Code Repository</span>
            </a>
            <a
              href="javascript:void(document.documentElement.requestFullscreen())"
              class="win98-btn flex items-center"
            >
              <span>Activate Fullscreen Mode</span>
            </a>
            <a
              href="javascript:void(document.body.classList.toggle('dark-mode'))"
              class="win98-btn flex items-center"
            >
              <span>Toggle Dark Mode</span>
            </a>
            <a
              href="javascript:void(alert('Employee surveillance initiated. Your productivity is being monitored.'))"
              class="win98-btn flex items-center"
            >
              <span>Run Surveillance Protocol</span>
            </a>
          </div>
        </div>
      </div>

      <!-- Links Window -->
      <div id="links" class="win98-window" style="display: none">
        <div class="window-titlebar">
          <div>Links</div>
          <div class="window-controls">
            <button class="window-control-btn minimize-btn font-bold">_</button>
            <button
              class="window-control-btn maximize-btn window-control-hide-sm"
            >
              <div
                class="w-2 h-2 border border-black bg-win98-gray border-t-2"
              ></div>
            </button>
            <button class="window-control-btn close-btn">×</button>
          </div>
        </div>
        <div class="window-content">
          <h2 class="text-xl mb-4">Quick Links</h2>
          <p class="mb-4">Direct access to official CORP resources:</p>
          <div class="grid grid-cols-1 gap-3 mb-4">
            <a
              href="https://tidal.com/browse/track/414311289?u"
              target="_blank"
              class="win98-btn flex items-center"
            >
              <span
                >Listen to "Escape the Rat" (What's there to talk about)</span
              >
            </a>
          </div>
          <div class="grid grid-cols-1 gap-3 mb-4">
            <a
              href="https://tidal.com/browse/track/414311291?u"
              target="_blank"
              class="win98-btn flex items-center"
            >
              <span>Listen to "Greaseball"</span>
            </a>
          </div>
          <div class="grid grid-cols-1 gap-3 mb-4">
            <a
              href="https://tidal.com/browse/track/269510299?u"
              target="_blank"
              class="win98-btn flex items-center"
            >
              <span>Listen to "Many Hours"</span>
            </a>
          </div>
          <div class="grid grid-cols-1 gap-3 mb-4">
            <a
              href="https://www.linkedin.com/company/corp-band/"
              target="_blank"
              class="win98-btn flex items-center"
            >
              <span>CORP. on LinkedIn</span>
            </a>
          </div>
          <div class="grid grid-cols-1 gap-3 mb-4">
            <a
              href="https://junction-bar-shop.de/babylon-the-beach-corp.html"
              target="_blank"
              class="win98-btn flex items-center"
            >
              <span>Tickets for Junction Bar!</span>
            </a>
          </div>
        </div>
      </div>
    </main>

    <!-- Taskbar -->
    <footer
      class="h-10 bg-win98-gray shadow-win98-out flex items-center px-1 fixed bottom-0 left-0 right-0 z-50"
    >
      <!-- Start Button -->
      <button class="start-btn h-7 flex-shrink-0">
        <img
          src="assets/windows.png"
          class="mr-1"
          alt="Windows"
          width="16"
          height="16"
        />
        <span>CORP.</span>
      </button>

      <!-- Divider -->
      <div class="h-7 w-px bg-win98-dark mx-1 shadow-[1px_0_0_#ffffff]"></div>

      <!-- Open windows in taskbar -->
      <div id="taskbar-items" class="flex space-x-1">
        <!-- Taskbar items will be added dynamically -->
      </div>

      <!-- Clock -->
      <div
        class="ml-auto px-2 h-7 shadow-win98-in flex items-center flex-shrink-0"
      >
        <span id="clock" class="text-xs">12:00 PM</span>
      </div>
    </footer>

    <script>
      // Update clock
      function updateClock() {
        const now = new Date();
        const hours = now.getHours();
        const minutes = now.getMinutes();
        const ampm = hours >= 12 ? "PM" : "AM";
        const displayHours = hours % 12 || 12;
        const displayMinutes = minutes < 10 ? "0" + minutes : minutes;
        document.getElementById(
          "clock"
        ).textContent = `${displayHours}:${displayMinutes} ${ampm}`;
      }

      updateClock();
      setInterval(updateClock, 60000);

      // URL query parameter handling
      function getQueryParam(param) {
        const urlParams = new URLSearchParams(window.location.search);
        return urlParams.get(param);
      }

      function setQueryParam(param, value) {
        const url = new URL(window.location);
        if (value) {
          url.searchParams.set(param, value);
        } else {
          url.searchParams.delete(param);
        }
        window.history.pushState({}, "", url);
      }

      // Console log message
      const style =
        "background-color: darkred; color: white; font-style: italic; border: 5px solid yellow; font-size: 2em;";
      console.log(
        '%cNotice: Unwelcomed visitors will be (consent accordingly) rerouted to department: "Requistions & Decapitations" for processing. Type `acceptTerms()` to continue.',
        style
      );

      // Console interaction
      window.acceptTerms = function () {
        const randomNumber = Math.floor(Math.random() * 900000) + 100000; // Random number over 100k
        console.log(
          `You have been added to the queue. Your number is: ${randomNumber}`
        );

        let currentNumber = randomNumber;
        let intervalId;

        // Function to decrement number at random intervals
        const startCountdown = () => {
          currentNumber--;
          console.log(`Decapitation queue number: ${currentNumber}`);

          if (currentNumber <= 0) {
            console.log(
              "%cError 431 - Requested Head Too Large",
              "color: red; font-size: 16px; font-weight: bold;"
            );
            return;
          }

          // Set new random interval between 1-10 seconds
          const randomInterval = Math.floor(Math.random() * 10000);
          intervalId = setTimeout(startCountdown, randomInterval);
        };

        // Start with initial timeout
        setTimeout(startCountdown, Math.floor(Math.random() * 1000));
        return "Request received by customer service representative. Processing...";
      };

      // Empty Recycle Bin Easter Egg
      document
        .getElementById("empty-recycle-bin")
        .addEventListener("click", function () {
          // Replace entire body content with 404 error
          document.body.innerHTML = `
          <div style="font-family: Times New Roman, serif; padding: 5vh;">
            <h1 style="font-size: 48px; line-height: 1.2; font-weight: bold;">Error 404 - Page Not Found</h1>
            <p style="font-size: 12px;">Website being recycled (sustainably). Please check back soon.
              <img src="assets/cry.gif" alt="cry" style="display: inline-block;">
              </p>
          </div>
        `;
          document.body.style.background = "white";
        });

      // Handle desktop icons click
      const desktopIcons = document.querySelectorAll(".desktop-icon");
      const windows = document.querySelectorAll(".win98-window");
      const taskbarItems = document.getElementById("taskbar-items");
      let activeWindow = null;
      let zIndex = 100;

      // Function to make a window active
      function makeWindowActive(windowEl) {
        if (activeWindow) {
          activeWindow.style.zIndex = 10;
        }
        windowEl.style.zIndex = ++zIndex;
        activeWindow = windowEl;

        // Update URL with window ID
        const windowId = windowEl.id;
        setQueryParam("window", windowId);

        // Update all taskbar items
        document.querySelectorAll(".taskbar-item").forEach((item) => {
          if (item.dataset.window === windowEl.id) {
            item.classList.add("shadow-win98-in");
          } else {
            item.classList.remove("shadow-win98-in");
          }
        });
      }

      // Function to create a taskbar item
      function createTaskbarItem(windowId, title) {
        const existingItem = document.querySelector(
          `.taskbar-item[data-window="${windowId}"]`
        );
        if (!existingItem) {
          const item = document.createElement("div");
          item.className =
            "taskbar-item h-7 px-2 shadow-win98-out flex items-center cursor-pointer";
          item.dataset.window = windowId;

          // Get icon image based on windowId
          let iconSrc = "";
          switch (windowId) {
            case "events":
              iconSrc = "assets/calendar.png";
              break;
            case "social":
              iconSrc = "assets/people.png";
              break;
            case "merch":
              iconSrc = "assets/spider.png";
              break;
            case "music":
              iconSrc = "assets/music.png";
              break;
            case "mailing":
              iconSrc = "assets/mail.png";
              break;
            case "booking":
              iconSrc = "assets/computer.png";
              break;
            case "trash":
              iconSrc = "assets/recycle.png";
              break;
            case "classified":
              iconSrc = "assets/windows.png";
              break;
            default:
              iconSrc = "assets/computer.png";
              break;
          }

          // Create icon image element
          const iconImg = document.createElement("img");
          iconImg.src = iconSrc;
          iconImg.className = "icon mr-1";
          iconImg.alt = title;
          iconImg.width = 16;
          iconImg.height = 16;

          // Create title span element
          const titleSpan = document.createElement("span");
          titleSpan.className = "title";
          titleSpan.textContent = title;

          // Add both to item
          item.appendChild(iconImg);
          item.appendChild(titleSpan);

          item.addEventListener("click", () => {
            const win = document.getElementById(windowId);
            if (win.style.display === "block") {
              if (activeWindow === win) {
                win.style.display = "none";
                item.classList.remove("shadow-win98-in");
              } else {
                makeWindowActive(win);
              }
            } else {
              win.style.display = "block";
              makeWindowActive(win);
            }
          });
          taskbarItems.appendChild(item);
        }
      }

      // Initialize draggable windows
      windows.forEach((windowEl) => {
        const titleBar = windowEl.querySelector(".window-titlebar");
        const closeBtn = windowEl.querySelector(".close-btn");
        const minimizeBtn = windowEl.querySelector(".minimize-btn");
        const maximizeBtn = windowEl.querySelector(".maximize-btn");
        let isDragging = false;
        let offsetX, offsetY;

        // Set default window size for desktop
        if (window.innerWidth > 768) {
          windowEl.style.width = "500px";
          windowEl.style.maxHeight = "600px";
        }

        // Position windows based on device size
        function positionWindow() {
          // Check if mobile
          if (window.innerWidth <= 768) {
            // Mobile - viewport width with height based on content
            windowEl.style.width = "calc(100% - 20px)";
            windowEl.style.height = "auto";
            windowEl.style.maxHeight = "calc(100% - 60px)";
            windowEl.style.left = "10px";
            windowEl.style.top = "10px";
          } else {
            // Desktop - random positioning across the screen
            const maxX = window.innerWidth - window.innerWidth / 2; // Account for window width
            const randomX = 20 + Math.random() * maxX;
            const randomY = 50 + Math.random() * 100;
            windowEl.style.left = `${randomX}px`;
            windowEl.style.top = `${randomY}px`;
          }
        }

        // Set initial position
        positionWindow();

        // Update position on resize
        window.addEventListener("resize", function () {
          if (windowEl.style.display === "block") {
            positionWindow();
          }
        });

        // Make window draggable
        titleBar.addEventListener("mousedown", (e) => {
          // Only allow dragging on desktop
          if (window.innerWidth > 768) {
            isDragging = true;
            offsetX = e.clientX - windowEl.offsetLeft;
            offsetY = e.clientY - windowEl.offsetTop;
          }
          makeWindowActive(windowEl);
        });

        document.addEventListener("mousemove", (e) => {
          if (isDragging) {
            windowEl.style.left = `${e.clientX - offsetX}px`;
            windowEl.style.top = `${e.clientY - offsetY}px`;
          }
        });

        document.addEventListener("mouseup", () => {
          isDragging = false;
        });

        // Window focus on click
        windowEl.addEventListener("mousedown", () => {
          makeWindowActive(windowEl);
        });

        // Close button
        closeBtn.addEventListener("click", () => {
          // Stop any video playback by targeting iframes
          const iframes = windowEl.querySelectorAll("iframe");
          iframes.forEach((iframe) => {
            const originalSrc = iframe.src;
            iframe.src = ""; // kill the iframe
            iframe.src = originalSrc; // restore the iframe for later
          });

          windowEl.style.display = "none";
          const taskbarItem = document.querySelector(
            `.taskbar-item[data-window="${windowEl.id}"]`
          );
          if (taskbarItem) {
            taskbarItems.removeChild(taskbarItem);
          }

          // Remove window from URL
          setQueryParam("window", null);
        });

        // Minimize button
        minimizeBtn.addEventListener("click", () => {
          windowEl.style.display = "none";

          // Get window title
          const title = windowEl.querySelector(
            ".window-titlebar div"
          ).textContent;

          // Add to taskbar if not already there
          createTaskbarItem(windowEl.id, title);
        });

        // Maximize button (toggle between maximized and normal)
        let isMaximized = false;
        let prevDimensions = {};

        maximizeBtn.addEventListener("click", () => {
          // On mobile, maximize button does nothing as windows are already maximized
          if (window.innerWidth <= 768) return;

          if (!isMaximized) {
            prevDimensions = {
              width: windowEl.style.width,
              height: windowEl.style.height,
              maxHeight: windowEl.style.maxHeight,
              left: windowEl.style.left,
              top: windowEl.style.top,
            };

            windowEl.style.width = "100%";
            windowEl.style.height = "calc(100% - 40px)";
            windowEl.style.maxHeight = "calc(100% - 40px)";
            windowEl.style.left = "0";
            windowEl.style.top = "0";
            isMaximized = true;
          } else {
            windowEl.style.width = prevDimensions.width || "500px";
            windowEl.style.height = prevDimensions.height || "auto";
            windowEl.style.maxHeight = prevDimensions.maxHeight || "600px";
            windowEl.style.left = prevDimensions.left;
            windowEl.style.top = prevDimensions.top;
            isMaximized = false;
          }
        });
      });

      // Handle desktop icons click
      desktopIcons.forEach((icon) => {
        icon.addEventListener("click", function () {
          // Remove selection from other icons
          desktopIcons.forEach((i) => i.classList.remove("bg-blue-800/50"));
          // Select this icon
          this.classList.add("bg-blue-800/50");

          // Get the associated window
          const windowId = this.dataset.window;
          if (windowId) {
            const windowEl = document.getElementById(windowId);
            const title = windowEl.querySelector(
              ".window-titlebar div"
            ).textContent;

            // Show window
            windowEl.style.display = "block";
            makeWindowActive(windowEl);

            // Add to taskbar
            createTaskbarItem(windowId, title);
          }
        });
      });

      // Start menu functionality
      const startBtn = document.querySelector(".start-btn");

      startBtn.addEventListener("click", function () {
        // In a real implementation, this would toggle a start menu
        alert(
          "CORP.\n\nOFFICIAL BAND WEBSITE\n\nCONSUME YOUR COWORKERS \n\n STEAL OUR CODE:\nhttps://github.com/ConorCorp/corp-website"
        );
      });

      // Check URL on page load and open the appropriate window
      document.addEventListener("DOMContentLoaded", function () {
        const windowParam = getQueryParam("window");
        if (windowParam) {
          const windowEl = document.getElementById(windowParam);
          if (windowEl) {
            const title = windowEl.querySelector(
              ".window-titlebar div"
            ).textContent;
            windowEl.style.display = "block";
            makeWindowActive(windowEl);
            createTaskbarItem(windowParam, title);
          }
        }
      });

      // Secret Links Window Keyboard Shortcut (Ctrl+Alt)
      document.addEventListener("keydown", function (e) {
        if (e.ctrlKey && e.altKey) {
          e.preventDefault();
          const linksWindow = document.getElementById("classified");
          if (linksWindow) {
            linksWindow.style.display = "block";
            makeWindowActive(linksWindow);
            const title = linksWindow.querySelector(
              ".window-titlebar div"
            ).textContent;
            createTaskbarItem("classified", title);
          }
        }
      });
    </script>

    <!-- This finds Custom conversion event for Meta Ads -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const buttons = document.querySelectorAll("a.win98-btn");

        buttons.forEach(function (button) {
          const isEscapeTheRat =
            button.textContent.includes("Escape the Rat") &&
            button.href.includes("tidal.com");

          if (isEscapeTheRat) {
            button.addEventListener("click", function () {
              console.log("Custom event TidalClickEscapeTheRat sent");
              fbq("trackCustom", "TidalClickEscapeTheRat", {
                destination: button.href,
                songName: "Escape the Rat",
              });
            });
          }
        });
      });
    </script>
  </body>
</html>
